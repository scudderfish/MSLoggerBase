;###############################################################################
;##  DO NOT edit this file in the MegaTune release directory, edit the copy   ##
;##  in your car-specific directory.  That would be                           ##
;##                                                                           ##
;##           C:/Program Files/MegaSquirt/car1/mtCfg/custom.ini               ##
;##                                                                           ##
;##  in the standard installation.                                            ##
;###############################################################################

[MegaTune]
   MTversion = 3.00

[Units]
   TPS            = "%"   ; Either "%" or "raw" are valid.
#if CELSIUS
   #log "Celsius enabled."
   temperature    = "C"   ; Either F (Fahrenheit) or C (Celsius) are valid.
#else
   #log "Fahrenheit enabled."
   temperature    = "F"
#endif

;-------------------------------------------------------------------------------
; Add your customizations here, they will be read at the end of the
; standard megatune.ini processing and override any settings there.
;-------------------------------------------------------------------------------

[AutoTune]
;#if GPIO
;#elif MS_I
#if MS_I
   table = veTableMap ; Should be the map3d_id of a TableEditor entry.
      allowAutoTune = on            ; Displays the check box on the specified tuning dialog.
      corrector     = egoCorrection ; Variable used for correction algorithm.

      ; Tuning block parameters
      ;    Global limits on tuning, outside the box and nothing happens.
      xLimits = 1500, 4000 ; RPM
      yLimits =   60,   90 ; MAP
      zLimits =   10,  200 ; VE

      ; Vertex tolerance parameters
      ;   How close you must be to a vertex before tuning takes place.
      xRadius = 200 ; RPM
      yRadius =   7 ; MAP

      ; Controller parameters
      initialStartupInterval = 1.0 ; Seconds before first adjustment
      updateInterval         = 1.0 ; Seconds between each consecutive adjustment.
      proportionalGain       = 0.5 ; Proportion of (100-corrector) to use for adjustment.
      lumpiness              = 5   ; Maximum percent adjustment above or below neighboring VE points.

#elif MS_II
   table = veTable1Map
      allowAutoTune          = on
      corrector              = egoCorrection1
      xLimits                = 1500, 4000
      yLimits                =   60,   90
      zLimits                =   10,  200
      xRadius                =  200
      yRadius                =    7
      initialStartupInterval =  1.0
      updateInterval         =  1.0
      proportionalGain       =  0.5
      lumpiness              =    5

   table = veTable2Map
      allowAutoTune          = on
      corrector              = egoCorrection2
      xLimits                = 1500, 4000
      yLimits                =   60,   90
      zLimits                =   10,  200
      xRadius                =  200
      yRadius                =    7
      initialStartupInterval =  1.0
      updateInterval         =  1.0
      proportionalGain       =  0.5
      lumpiness              =    5

#else ; Actually only good for DualTable and MSnS-Extra.
   table = veTable1Map
      allowAutoTune          = on
      corrector              = egoCorrection
      xLimits                = 1500, 4000
      yLimits                =   60,   90
      zLimits                =   10,  200
      xRadius                =  200
      yRadius                =    7
      initialStartupInterval =  1.0
      updateInterval         =  1.0
      proportionalGain       =  0.5
      lumpiness              =    5

   table = veTable2Map
      allowAutoTune          = on
      corrector              = egoCorrection
      xLimits                = 1500, 4000
      yLimits                =   60,   90
      zLimits                =   10,  200
      xRadius                =  200
      yRadius                =    7
      initialStartupInterval =  1.0
      updateInterval         =  1.0
      proportionalGain       =  0.5
      lumpiness              =    5
#endif

;-------------------------------------------------------------------------------

#unset AUTOMARK_LOGGING_FEATURES
#if    AUTOMARK_LOGGING_FEATURES
   [OutputChannels]
      ; Make up some variable names...
      highLoad = { rpm >= 3500 && throttle >= 50 }
      enable   = { rpm >= 2000 }

   [Datalog]
      enableWrite = enable    ; Log entries are only written when the variable
                              ; "enable" is true, see it's definition above.

      markOnTrue  = highLoad  ; A datalog marker is written when "highLoad"
                              ; transitions from false to true.  The marker
                              ; looks like "MARK 001 highLoad" to distinguish
                              ; it from the manual markers.

#endif 

   [Datalog]
      delimiter        = "\t"
      defaultExtension = "xls"

;-------------------------------------------------------------------------------
;  Uncomment this section if you wish to change the defaults.  The commPort
;  used for burst mode is normally the same as used for MS, but if you have
;  your Palm hooked to a different port, then change it here.
;  Set initialDeltaT to the value at which the datalog was recorded.  In
;  MT, this would correspond to the Communications -> Settings -> Timer
;  Interval value.

#unset ALTERNATE_BURST_MODE_SETTINGS
#if    ALTERNATE_BURST_MODE_SETTINGS
[BurstMode]
   commPort      = 1
   commRate      = 115200
   getCommand    = "A"
   initialDeltaT = 0.100 ; seconds
#endif

;-------------------------------------------------------------------------------
